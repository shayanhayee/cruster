# E2E test runner image
FROM alpine:3.20

RUN apk add --no-cache \
    bash \
    curl \
    jq \
    coreutils

WORKDIR /tests

# Copy test scripts
COPY examples/cluster-tests/tests /tests

# Make scripts executable
RUN chmod +x /tests/*.sh /tests/lib/*.sh

ENV CLUSTER_TESTS_URL=http://cluster-tests:8080

ENTRYPOINT ["/tests/e2e.sh"]
